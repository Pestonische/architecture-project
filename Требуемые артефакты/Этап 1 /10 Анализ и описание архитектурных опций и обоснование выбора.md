## 10. Архитектурный подход и обоснование выбора

Для реализации поставленных бизнес-целей была выбрана микросервисная, событийно-ориентированная архитектура с API-first подходом и мультиоблачным размещением. Данный выбор является результатом анализа нескольких альтернативных архитектурных подходов.

---

### 10.1 Выбранный архитектурный подход

**Краткое описание**

- микросервисная архитектура;
- событийно-ориентированное взаимодействие (event-driven);
- API-first стратегия;
- мультиоблачная инфраструктура;
- интеграция с e-commerce через API и события без дублирования домена.

Такой подход позволяет независимо развивать домены тренировок, социальных функций, телеметрии, рекомендаций и коммерческой интеграции, сохраняя устойчивость системы и гибкость развития.

---

### 10.2 Рассмотренные альтернативы архитектурных подходов

#### Альтернатива 1. Монолитная архитектура

**Описание**  
Единое приложение, включающее весь функционал: тренировки, социальные функции, интеграции с устройствами и магазином.

**Причины отказа**
- невозможность независимого масштабирования отдельных функциональных частей;
- высокая связанность доменов (изменения в одном блоке влияют на весь продукт);
- сложность частых релизов и экспериментов;
- низкая устойчивость к пиковым нагрузкам (соревнования, кампании).

**Вывод**  
Подход не соответствует требованиям глобального масштабирования, частых изменений и продуктовых экспериментов.

---

#### Альтернатива 2. Модульный монолит

**Описание**  
Единое приложение с чётко выделенными модулями по доменам.

**Причины отказа**
- ограниченные возможности независимого масштабирования;
- рост сложности при подключении телеметрии и ML-компонентов;
- риск деградации производительности при росте нагрузки;
- усложнение интеграции с мультиоблачной инфраструктурой.

**Вывод**  
Подход может быть применим на ранних этапах, но не масштабируется под долгосрочные цели продукта.

---

#### Альтернатива 3. REST-only микросервисы (без событийной модели)

**Описание**  
Микросервисы, взаимодействующие исключительно через синхронные HTTP API.

**Причины отказа**
- высокая связность сервисов при сложных пользовательских сценариях;
- каскадные отказы при недоступности зависимых сервисов;
- сложности при обработке телеметрии и асинхронных процессов;
- неэффективная работа с аналитикой и ML.

**Вывод**  
REST остаётся важным элементом, но не может быть единственным способом взаимодействия в системе с IoT и аналитикой.

---

#### Альтернатива 4. Встроенный e-commerce внутри приложения

**Описание**  
Реализация собственной логики магазина внутри спортивного приложения.

**Причины отказа**
- дублирование уже существующего e-commerce домена компании;
- рост сложности и ответственности приложения;
- увеличение рисков безопасности и соответствия требованиям;
- ухудшение пользовательского восприятия из-за навязчивой коммерциализации.

**Вывод**  
Коммерческая логика должна оставаться в специализированных торговых приложениях.

---

#### Альтернатива 5. Использование одного облачного провайдера

**Описание**  
Размещение всей системы в инфраструктуре одного cloud-провайдера.

**Причины отказа**
- высокий риск vendor lock-in;
- ограниченная гибкость при выборе сервисов;
- снижение отказоустойчивости при инцидентах у провайдера;
- несоответствие текущей стратегии компании.

**Вывод**  
Мультиоблачный подход лучше соответствует требованиям гибкости и надёжности.

---

### 10.3 Итоговое обоснование выбора

Выбранная архитектура оптимально балансирует между:
- скоростью развития продукта;
- устойчивостью к нагрузкам;
- возможностью глобального масштабирования;
- безопасной и ненавязчивой интеграцией с торговыми приложениями;
- готовностью к дальнейшему развитию аналитики и ML.

Таким образом, микросервисная событийно-ориентированная архитектура является наиболее подходящим решением для достижения бизнес-целей компании в долгосрочной перспективе.
